#include <iostream>
#include <vector>
#include <string>
#include <sstream>
#include <algorithm>
using namespace std;


int main(){
    int n;cin>>n;
	cin.ignore();
    while(n--){
		string s1,s2;
		getline(cin,s1);
		getline(cin,s2);
		vector<string> part1;
		vector<string> part2;
		bool afterfirst = false;
		bool aftersecond = false;
		string out1;
		string p1,p2;
		for(char c:s1){
			if(c=='<'){
				afterfirst = true;
				if(aftersecond){
					aftersecond = false;
					if(!p2.empty()){
						if(p2.back()==' ')
							p2.erase(p2.end()-1);
						part2.push_back(p2);
						p2.clear();
					}
					
				}
					
				continue;
			}else if(c=='>'){
				if(!p1.empty()){
					part1.push_back(p1);
					p1.clear();
				}
				afterfirst = false;
				aftersecond = true;
				continue;
			}
			if(afterfirst){
				p1+=c;
			}
			if(aftersecond){
				p2+=c;
			}
			out1+=c;
		}
		if(!p2.empty()){
			if(p2.back()==' ')
				p2.erase(p2.end()-1);
			part2.push_back(p2);
		}
		cout << out1 <<endl;
		stringstream ss(s2);
		string word;
		while(ss>>word){
			if(word=="..."){
					cout << part2[0] << part1[1] << part2[1] << part1[2] << part2[2] << endl;
				break;
			}
			cout << word << " ";
		}
	}

}
